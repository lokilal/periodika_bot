#### Чат бот для компании "Периодика"
- Пользователь запускает бота командой `\start`. Telegram_id и Username пользователя записываются в таблицу Excel. 
- При нажатии на кнопку `Получить промокод` бот присылает пользователю соответствующий уникальный промокод, взятый из Excel таблицы 
- При нажатии на кнопку `Получить баланс` бот присылает пользователю количество использований его промокода. Данные обновляются раз в неделю.  
- При нажатии на кнопку `Потратить` бот присылает пользователю промокод. Данные обновляются раз в месяц менеджером.
- После обновления Excel файла необходимо, чтобы бот понял, что данные были изменены. Это может сдеалать только менеджер с помощью команды `\reload`. 
##### Развертывание проекта:
- Клонировать репозиторий
- Создить ```.env``` файл и заполнить его
- Перенести на сервер `secret-key.json` (Нужен для работы с Google Sheets)
- Запустить Docker 
##### Клонирование репозитория: 
- ``` git clone https://github.com/lokilal/periodika_bot.git```
- Затем перейдите в папку с проектом командой ```cd periodika_bot```
##### Создание окружения: 
- Создать ```.env``` файл командой `touch .env`
##### Пример заполнения ```.env``` файла: 
``` 
TOKEN=<Секретный токен бота. Получить можно здесь @BotFather>
SPREADSHEETS_ID=<ID Гугл рабочей гугл таблицы>
ADMINS=<Telegram_id пользователей, которые являются менеджерами(разделять запятыми)>
```
##### С помощью `scp` передать `secret-key.json`
- Документация, с помощью которой можно получить этот файл - `https://goo-gl.me/tYMxh`
- Пример заполненой гугл таблицы `https://goo-gl.me/BGCuX`

##### Запуск Docker
- `sudo docker build -t periodika .`
- `sudo docker run periodika -d`

[![Periodika_CI](https://github.com/lokilal/periodika_bot/actions/workflows/periodika_workflow.yml/badge.svg)](https://github.com/lokilal/periodika_bot/actions/workflows/periodika_workflow.yml)
